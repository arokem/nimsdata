<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module contents &mdash; NIMSData  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="NIMSData  documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">NIMSData  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-nimsdata">
<span id="module-contents"></span><h1>Module contents<a class="headerlink" href="#module-nimsdata" title="Permalink to this headline">¶</a></h1>
<p>nimsdata package provides two convenient interfaces for reading scientific data, and writing to an easier to analyze format.</p>
<p>Readers and Writers are defined in external json files, readers.json and writers.json.  New readers and writers can be added to
a running system by defining it in the appropriate json file.</p>
<dl class="function">
<dt id="nimsdata.get_handler">
<tt class="descclassname">nimsdata.</tt><tt class="descname">get_handler</tt><big>(</big><em>name</em>, <em>handlerdict</em><big>)</big><a class="reference internal" href="_modules/nimsdata.html#get_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nimsdata.get_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the class object of reader or writer from its string label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>reader or writer name, by string</p>
</div></blockquote>
<p><strong>handlerdict</strong> : dict</p>
<blockquote class="last">
<div><p>name of which handler dict to search from, READERS or WRITERS</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nimsdata.getnattr">
<tt class="descclassname">nimsdata.</tt><tt class="descname">getnattr</tt><big>(</big><em>obj</em>, <em>attr</em><big>)</big><a class="reference internal" href="_modules/nimsdata.html#getnattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nimsdata.getnattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get nested attribute.</p>
<p>getnattr(foo, &#8216;bar.face&#8217;)</p>
</dd></dl>

<dl class="function">
<dt id="nimsdata.parse">
<tt class="descclassname">nimsdata.</tt><tt class="descname">parse</tt><big>(</big><em>path</em>, <em>load_data=False</em>, <em>ignore_json=False</em>, <em>filetype=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/nimsdata.html#parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nimsdata.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer the type of file at path and parse with filetype-specific parser.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>path</strong> : str</p>
<blockquote>
<div><p>input path</p>
</div></blockquote>
<p><strong>load_data</strong> : bool  [default False]</p>
<blockquote>
<div><p>attempt to load all metadata and data at parse.  like running parse, then load_data</p>
</div></blockquote>
<p><strong>ignore_json</strong> : bool [default False]</p>
<blockquote>
<div><p>True, don&#8217;t look for json file. therefore the parser cannot be read from the json, and
a parser MUST be specfied if ignore_json is true
False, do look for json file.</p>
</div></blockquote>
<p><strong>filetype</strong> : str</p>
<blockquote>
<div><p>string name of parser to use.  no special search or inferences will be made if this
option is specified. if the specified parser does not exist, an error will be raised.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>parser_class</strong> : obj</p>
<blockquote class="last">
<div><p>NIMSReader populated with data and metadata attributes. this NIMSReader object can be
passed to any compatible writer to complete the conversion process</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="12%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ignore_json</th>
<th class="head">filetype</th>
<th class="head">behavior</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>False</td>
<td>None</td>
<td><strong>DEFAULT</strong> try to read json, use parser from json</td>
</tr>
<tr class="row-odd"><td>False</td>
<td>&#8216;dicom&#8217;</td>
<td>try to read json, use &#8216;dicom&#8217; parser</td>
</tr>
<tr class="row-even"><td>True</td>
<td>None</td>
<td><strong>INVALID</strong></td>
</tr>
<tr class="row-odd"><td>True</td>
<td>&#8216;dicom&#8217;</td>
<td>don&#8217;t try to read json AT ALL, use &#8216;dicom&#8217; parser</td>
</tr>
</tbody>
</table>
<p>TODO: expand the notes table section to be MUCH more descriptive of the behavior
of nimsdata.parse&#8217;s multiple combinations of options.</p>
<p class="rubric">Examples</p>
<p>convert dicom.tgz to dicoms.nii.gz</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">nimsdata</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">nimsdata</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;dicoms.tgz&#39;</span><span class="p">,</span> <span class="n">load_data</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">filetype</span><span class="o">=</span><span class="s">&#39;dicom&#39;</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="n">nimsdata</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">outbase</span><span class="p">,</span> <span class="n">filetype</span><span class="o">=</span><span class="s">&#39;nifti&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nimsdata.write">
<tt class="descclassname">nimsdata.</tt><tt class="descname">write</tt><big>(</big><em>metadata</em>, <em>imagedata</em>, <em>outbase</em>, <em>filetype</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/nimsdata.html#write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nimsdata.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the metadata, imagedata, into file outbase, with the specified writer.</p>
<p>Eventually, this might need to support a new_world option, that differentiates
the return value to provide compatibile with old and new components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> : dataset object</p>
<blockquote>
<div><p>dataset from parse</p>
</div></blockquote>
<p><strong>imaedata</strong> : np-array</p>
<blockquote>
<div><p>dataset.imagedata</p>
</div></blockquote>
<p><strong>outbase</strong> : string</p>
<blockquote>
<div><p>base of name to use</p>
</div></blockquote>
<p><strong>filetype</strong> : string</p>
<blockquote>
<div><p>string name of writer to use</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>convert dicom.tgz to dicoms.nii.gz</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">nimsdata</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">nimsdata</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;dicoms.tgz&#39;</span><span class="p">,</span> <span class="n">load_data</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">filetype</span><span class="o">=</span><span class="s">&#39;dicom&#39;</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="n">nimsdata</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">outbase</span><span class="p">,</span> <span class="n">filetype</span><span class="o">=</span><span class="s">&#39;nifti&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/module.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">NIMSData  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>